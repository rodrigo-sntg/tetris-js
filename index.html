<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Tetris JS Game</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="css/index.css">
    <script type="module">
        // import createGame from '/js/tetrisController.js'
        // import createKeyboardListener from '/js/keyboard-listener.js'
        
        // import renderScreen from '/js/render-screen.js'
        
        // const game = createGame()
        const game = new Tetris();
        
        const keyboardListener = new KeyboardListener(document);

        keyboardListener.subscribe(game.movePlayer, game)
        
        const canvas = document.getElementById('tetris')
        const context = canvas.getContext('2d')
        
        const canvasNextPiece = document.getElementById('nextPiece')
        const contextNextPiece = canvasNextPiece.getContext('2d')
        
        
        const viewRender = new ViewRender(canvas, canvasNextPiece, game );
        context.scale(20,20);
        contextNextPiece.scale(20,20);

        viewRender.renderScreen(requestAnimationFrame, 0)

    </script>
    
</head>
<body>
    <h3>Tetris</h3>
    
    <div style="width: 450px;margin: 0 auto;">
        <div style="float: left;">

            <canvas id="tetris" width="240" height="400"></canvas>
        </div>

        <div style="float: right">
            <canvas id="nextPiece" width="120" height="120"></canvas>

            <div style="display: flex;">
                <label for="">Pontos:  </label><div style="margin-left: 10px;" id="score"></div>
            </div>

        </div>

    </div>
    <script src='./js/app/models/Position.js'></script>
    <script src='./js/KeyboardListener.js'></script>
    <script src='./js/app/models/Timer.js'></script>
    <script src='./js/app/models/Player.js'></script>
    <script src='./js/app/models/Arena.js'></script>
    <script src='./js/TetrisController.js'></script>
    <script src='./js/app/views/ViewRender.js'></script>

</body>
</html>




